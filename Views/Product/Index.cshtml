@model IEnumerable<DeliveriandoWebApp.Models.Product>

@{
    ViewBag.Title = ViewBag.nombre;
}

<h2 style="margin-top:70px">@ViewBag.nombre </h2>
@section Scripts {
    <meta charset="utf-8" />
    <title>Knockout: Loading and Saving</title>
    <script src="~/scripts/jquery-ui-1.10.4.js" type="text/javascript"></script>
    <script src="~/scripts/knockout-2.1.0.js" type="text/javascript"></script>
    <script src="~/js/utils.js" type="text/javascript"></script>
    <script src="~/js/ajaxservice.js" type="text/javascript"></script>
    <script src="~/js/dataservice.shopping.js" type="text/javascript"></script>
    <script src="~/js/index.js"></script>   
}


<link href="~/Content/styles.css" rel="stylesheet" />
    <div class="page">
        <div id="main"> 
            <div>
               
                <ul class="saleItems leftFloat" data-bind="foreach:products, beforeRemove:hideItem, afterAdd: showItem" >
                    <li class="mediumProductSquares">
                        <div>  
                            <div class="dialogTitleBorder" >
 
                                <span data-bind="text: nombre() " class="borderTitleText"></span>
                                 <span class="rightFloat"> <button  class="btd" data-bind="jqButton: { }, click: $root.showSplash" >Descripción</button></span>
                                

                            </div>
                            <div class="leftFloat">                                                     
                            
                                <div>
                                    <span>Precio: </span><span data-bind="text: OrdersApp.formatCurrency(precio())" class="textValues"></span>
                                </div>
                            </div>
                          
                            <button data-bind="jqButton: { }, click: $root.addToCart" >Agregar</button>

                        </div>
                    </li>
                </ul>

                <div class="cartContainer leftFloat">
                    <div class="cartItemsContainer">
                        <div class="cartSummaryContainer rightFloat">
                        @*<span>Productos:  </span><span data-bind="text:shoppingCart().length"></span>*@
                        <span><b>Total a pagar:</b></span><span data-bind="text:OrdersApp.formatCurrency(finalTotal())"></span>
                        <button data-bind="enable: shoppingCart().length > 0, click: $root.placeOrder">Pagar</button>
                    </div>
                        <div class="dialogTitleBorder">
                            <span class="borderTitleText">Carrito</span>
                        </div>
                        <table class="cartItems leftFloat">
                            <thead>
                                <tr><td class="descText">Plato</td><td>Precio</td><td>Cantidad</td><td>Total</td><td></td></tr>
                            </thead>
                            <tbody data-bind="{ name:'cartItems', foreach:shoppingCart, beforeRemove:hideItem, afterAdd: showItem}">
                                <tr >
                                    <td class="descText">
                                        <span data-bind="text: product().shortDesc"></span>
                                    </td>
                                    <td>
                                        <span data-bind="text: OrdersApp.formatCurrency(product().precio())"></span>
                                    </td>
                                    <td>
                                        <input data-bind="value: quantity, valueUpdate:'afterkeydown'" class="integerInput"></input>
                                    </td>
                                    <td>
                                        <span data-bind="text: OrdersApp.formatCurrency(extPrice())"></span>
                                    </td>
                                    <td>
                                        <button data-bind="jqButton: { }, click: $root.removeFromCart">Remover plato</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                   @* <div class="cartSummaryContainer">
                        <span>Productos  </span><span data-bind="text:shoppingCart().length"></span>
                        <span>Precio Total </span><span data-bind="text:OrdersApp.formatCurrency(grandTotal())"></span>
                        <button data-bind="enable: shoppingCart().length > 0, click: $root.placeOrder">Pagar</button>
                    </div>*@
                </div>
            </div>
        </div>
    </div>
    


    